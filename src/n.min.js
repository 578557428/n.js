!function(e,n){var t,r=e.n,i=e.document,a="1.0.0",u="2013-08-09 13:47";t=function(e,n){e=e.match(/^(\W)?(.*)/);return(n||i)["getElement"+(e[1]?e[1]=="#"?"ById":"sByClassName":"sByTagName")](e[2])};function l(e){return function(n){return{}.toString.call(n)=="[object "+e+"]"}}t.isObject=l("Object");t.isString=l("String");t.isArray=l("Array");t.isFunction=l("Function");t.mix=function(e,n,r){if(t.isArray(n)){for(var i=0,a=n.length;i<a;i++){t.mix(e,n[i],r)}return e}if(t.isFunction(r)){for(i in n){e[i]=r(e[i],n[i],i)}}else{for(i in n){if(r||!(e[i]||i in e)){e[i]=n[i]}}}return e};t.times=function(e,n,t){var r=Array(Math.max(0,e));for(var i=0;i<e;i++){r[i]=n.call(t,i)}return r};t.once=function(e){var n=false,t;return function(){if(n)return t;n=true;t=e.apply(this,arguments);e=null;return t}};if(!i.getElementsByClassName){i.getElementsByClassName=function(e,n){var t=(n||i).getElementsByTagName("*");var r=new Array;for(var a=0;a<t.length;a++){var u=t[a];var l=u.className.split(" ");for(var o=0;o<l.length;o++){if(l[o]==e){r.push(u);break}}}return r}}t.forEach=function(e,n,t,r){if(e==null)return;if(!r){if(typeof e=="function"&&e.call){r=Function}else if(typeof e.forEach=="function"&&e.forEach!=arguments.callee){e.forEach(n,t);return}else if(typeof e.length=="number"){o(e,n,t);return}}f(r||Object,e,n,t)};function o(e,n,t){if(e==null)return;var r=0,i=e.length;if(typeof e=="string"){for(;r<i;r++){n.call(t,e.charAt(r),r,e)}}else{for(;r<i;r++){n.call(t,e[r],r,e)}}}function f(e,n,t,r){for(var i in n){if(n.hasOwnProperty(i)){t.call(r,n[i],i,n)}}}t.loadScript=function(e,n){var t=arguments.callee;if(!("queue"in t))t.queue={};var r=t.queue;if(e in r){if(n){if(r[e])r[e].push(n);else n()}return}r[e]=n?[n]:[];var a=i.createElement("script");a.type="text/javascript";a.onload=a.onreadystatechange=function(){if(a.readyState&&a.readyState!="loaded"&&a.readyState!="complete")return;a.onreadystatechange=a.onload=null;while(r[e].length)r[e].shift()();r[e]=null};a.src=e;i.getElementsByTagName("head")[0].appendChild(a)};t.dFormat=function(e,n){n=n||"yyyy-MM-dd";var t=e.getFullYear().toString(),r={M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds()};n=n.replace(/(y+)/gi,function(e,n){return t.substr(4-Math.min(4,n.length))});for(var i in r){n=n.replace(new RegExp("("+i+"+)","g"),function(e,n){return r[i]<10&&n.length>1?"0"+r[i]:r[i]})}return n};t.cache={};t.version=a;t.released=u;t.trim=function(e){return e.replace(/(^\s*)|(\s$)/g,"")};t.queryUrl=function(e){var n={},t;e=e.split("&");for(var r=e.length-1;r>=0;r--){t=e[r].split("=");n[t[0]]=t[1]}return n};t.on=function(e,n,t){e.addEventListener?e.addEventListener(n,t,false):e.attachEvent("on"+n,t);return e};t.un=function(e,n,t){e.removeEventListener?e.removeEventListener(n,t,false):e.detachEvent("on"+n,t);return e};t.fire=function(){if(i.dispatchEvent){return function(e,n){var t=null,r=e.ownerDocument||e;if(/mouse|click/i.test(n)){t=r.createEvent("MouseEvents");t.initMouseEvent(n,true,true,r.defaultView,1,0,0,0,0,false,false,false,false,0,null)}else{t=r.createEvent("Events");t.initEvent(n,true,true,r.defaultView)}return e.dispatchEvent(t)}}else{return function(e,n){return e.fireEvent("on"+n)}}}();t.md=function(e){var n=i,t=n.createElement("p");t.innerHTML=e;e=n.createDocumentFragment(t);while(n=t.firstChild){e.appendChild(n)}return e};t.tpl=function(e,n,r){t.loadScript("http://johnqing.github.io/Ntpl.js/nTpl.js",function(){e.innerHTML=NTpl.tpl(n,r)})};t.noConflict=function(n){e[n]=e.n;e.n=r};e.n=t}(this);